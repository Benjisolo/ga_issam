<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <ui:composition>
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Ajouter un groupe</h3>
                </div>
                <!-- /.box-header -->
                <!-- form start -->
                <h:form role="form" id="champForm">
                    <div class="box-body">
                        <div class="form-group">
                            <label for="code">Code du Groupe : </label>
                            <h:inputText class="form-control" id="code"  value="#{groupBean.groupe.code}"/>
                        </div>
                        <div class="form-group">
                            <label for="desc">Description : </label>
                            <h:inputText class="form-control" id="desc" value="#{groupBean.groupe.description}"/>
                        </div>
                        <div class="form-group">
                            <label for="desc">Menu authorises : </label>
                            <h:selectManyCheckbox id="course1" value="#{groupBean.groupe.linkIdList}">
                                <f:selectItem itemValue="1" itemLabel="link1" />
                                <f:selectItem itemValue="2" itemLabel="link2" />
                                <f:selectItem itemValue="3" itemLabel="link3" />
                                <f:selectItem itemValue="4" itemLabel="link4" />
                            </h:selectManyCheckbox>
                        </div>
                    </div>
                    <!-- /.box-body -->

                    <div class="box-footer">
                        <h:commandButton styleClass="btn btn-primary" value="Valider" action="#{groupBean.ajouter()}"></h:commandButton>
                        <h:commandButton styleClass="btn btn-danger pull-right" value="Annuler"></h:commandButton>
                    </div>
                </h:form>
            </div>
            
            
            <!--<div>-->
                <div class="row">
                    <div class="col-xs-12">
                        <div class="box">
                            <div class="box-header">
                                <h3 class="box-title">Listes des Groupes</h3>
                                <div class="box-tools">
                                    <div class="input-group input-group-sm" style="width: 150px;">
                                        <input type="text" name="table_search" class="form-control pull-right" placeholder="Search"/>
                                        <div class="input-group-btn">
                                            <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body table-responsive no-padding" id="table-slide">
                                <h:form id="goupeForm">
                                    <h:dataTable id="groupeTable" value="#{groupBean.listGroupe}" var="lg" class="table">
                                        <h:column>
                                            <f:facet name="header">
                                            <h:outputText value="Code"/>
                                            </f:facet>
                                            <h:outputText value="#{lg.code}" id="code"/>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                            <h:outputText value="Description"/>
                                            </f:facet>
                                            <h:outputText value="#{lg.description}"/>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Modifier" />
                                            </f:facet>
                                            <h:commandButton action="#{groupBean.modifier(lg)}" value="Modifier" class="btn btn-primary" onclick="openModifier()">
                                                <f:ajax render="groupeForm:groupeTable" />
                                            </h:commandButton>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                            <h:outputText value="Supprimer"/>
                                            </f:facet>
                                            <h:commandButton action="#{groupBean.supprimer(lg)}" value="Supprimer" class="btn btn-danger">
                                                <f:param value="#{lg.code}" name="code"></f:param>
                                            </h:commandButton>
                                        </h:column>
                                    </h:dataTable>
                                </h:form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        <!-- /.box -->
                    </div>
                </div>
            <!--</div>-->
            <button data-toggle="modal" data-target="#modal-default" class="btn btn-primary" id="btnModif" style="display: none">Modifier</button>
            <div class="modal fade" id="modal-default">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button class="close" data-dismiss="modal" area-label="close"><span area-hidden="true">fermer</span></button>
                            <h4 class="modal-title">Modifier un Groupe</h4>
                        </div>
                        <h:form>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="exampleInputEmail1">Code du Groupe : </label>
                                    <h:inputText class="form-control" id="code"  value="#{gestionGroupeBean.groupe.code}"/>
                                </div>
                                <div class="form-group">
                                    <label for="desc">Description : </label>
                                    <h:inputText class="form-control" id="desc" value="#{gestionGroupeBean.groupe.description}"/>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <h:commandButton styleClass="btn btn-primary" value="Valider" action="#{gestionGroupeBean.enregistrer()}"></h:commandButton>
                                <h:commandButton styleClass="btn btn-danger pull-right" value="Annuler"></h:commandButton>
                            </div> 
                        </h:form>
                    </div>
                </div>            
            </div>
        </ui:composition>
    </h:body>
</html>

